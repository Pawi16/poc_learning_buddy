type: object
required:
  - title
  - questions
properties:
  title:
    type: string
    example: "Chapter 1 Exam"
  solution_visibility:
    type: string  
    enum: [ALWAYS, NEVER]
    description: |
      Determines feedback visibility.
      ALWAYS = Practice Mode (Show answers and explanation at the end)
      NEVER = Exam Mode (Hide answers and explanation)
    example: "ALWAYS"
  is_published:
    type: boolean
    description: "Mapped from Solution Visibility (Practice=True, Exam=False/Scheduled?)"
    default: false
  questions:
    type: array
    description: "The finalized list of questions (user may have edited the AI preview)"
    items:
      type: object
      required:
        - topic_id
        - question_text
        - choices
      properties:
        topic_id:
          type: integer
        question_text:
          type: string
        question_type:
          type: string
          description: "NORMAL_MULTIPLE/STATEMENT_VERIFICATION/STATEMENT_COUNTING"
        difficulty_level:
          type: string
          description: "EASY/MEDIUM/HARD"
        explanation:
          type: string
        choices:
          type: array
          items:
            type: object
            required:
              - choice_text
              - is_correct
            properties:
              choice_text:
                type: string
              is_correct:
                type: boolean